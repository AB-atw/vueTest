<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>用户信息卡</h3>
    姓名:<input type="text" id="username"><br>
    EMAIL:<input type="text" id="email"><br>
    电话号码:<input type="number" id="num"><br>
    说明:<input type="text" id="info"><br>
    <input type="button" value="保存" onclick="localSave()"><br>
    查询:<input type="text" id="search">
    <input type="button" value="按姓名查询" onclick="localLoad()" id="search">
    <div class="datail"></div>
</body>
<script>
    // let obj={
    //     username:'小明',
    //     age:'17',
    //     address:'北京市'
    // };
    // localStorage.setItem("obj",JSON.stringify(obj));
    // console.log(JSON.parse(localStorage.getItem("obj")))
    function localSave(){
        let username=document.querySelector("#username");
        let email=document.querySelector("#email");
        let num=document.querySelector("#num");
        let info=document.querySelector("#info");
        if(window.localStorage){
            let message={
                username:username.value,
                email:email.value,
                num:num.value,
                info:info.value 
            }
            localStorage.setItem(username.value,JSON.stringify(message));
        }
    }

    //姓名作为key值进行查询
    function localLoad(){
        let search=document.querySelector("#search");
        let datail=document.querySelector(".datail");
        datail.innerHTML="";
        if(window.localStorage){
            for(let i=0;i<localStorage.length;i++){
                let key=localStorage.key(i);
                if(key===search.value){
                    datail.innerHTML+=JSON.parse(localStorage.getItem(key)).username+":"+JSON.parse(localStorage.getItem(key)).email+":"+JSON.parse(localStorage.getItem(key)).num+":"+JSON.parse(localStorage.getItem(key)).info; 
                }
            }
        }
    }
</script>
</html>